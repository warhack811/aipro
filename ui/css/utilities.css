/* ============================================
   UTILITIES.CSS - Responsive & Animations
   Extracted from chat.css lines 2012-2265
   ============================================ */

/* CONSOLIDATED MOBILE STYLES */
@media screen and (max-width: 768px) {

    /* Body & Main */
    body {
        overflow: auto !important;
        height: auto !important;
        min-height: 100vh !important;
    }

    .main {
        min-width: 0 !important;
    }

    /* Sidebar */
    .sidebar {
        position: fixed;
        height: 100%;
        left: -280px;
        transition: left 300ms ease;
        z-index: 1000;
    }

    .sidebar.active {
        left: 0;
    }

    /* Hamburger Menu Button */
    #menuToggle {
        display: block !important;
    }

    /* Chat Area Mobile */
    .chat-area {
        padding: 16px !important;
    }

    /* Message Avatars on Mobile */
    .message::before {
        width: 28px;
        height: 28px;
        font-size: 14px;
    }

    /* Header - Mobile Optimized */
    .header {
        height: auto !important;
        min-height: 50px !important;
        padding: 6px 8px !important;
        gap: 4px !important;
        -ms-flex-wrap: nowrap !important;
        flex-wrap: nowrap !important;
        overflow-x: hidden !important;
        overflow-y: hidden !important;
        -webkit-box-align: center !important;
        -ms-flex-align: center !important;
        align-items: center !important;
        display: -webkit-box !important;
        display: -ms-flexbox !important;
        display: flex !important;
        -webkit-box-orient: horizontal !important;
        -webkit-box-direction: normal !important;
        -ms-flex-direction: row !important;
        flex-direction: row !important;
        -webkit-box-pack: justify !important;
        -ms-flex-pack: justify !important;
        justify-content: space-between !important;
        width: 100% !important;
        max-width: 100vw !important;
        -webkit-box-sizing: border-box !important;
        box-sizing: border-box !important;
        -webkit-tap-highlight-color: transparent !important;
        touch-action: manipulation !important;
    }

    .header::-webkit-scrollbar {
        display: none;
    }

    .header {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }

    .header button {
        display: block !important;
        flex-shrink: 0 !important;
    }

    .header>div:first-child {
        flex: 0 0 auto !important;
        min-width: auto !important;
        max-width: 40% !important;
        width: auto !important;
        gap: 4px !important;
        display: flex !important;
        align-items: center !important;
        flex-shrink: 1 !important;
        white-space: nowrap !important;
        order: 1 !important;
        overflow: hidden !important;
    }
    
    /* HTML inline style override */
    .header>div[style*="display: flex"] {
        gap: 4px !important;
    }

    /* Status Indicator - Çok kompakt, sadece nokta */
    #statusIndicator {
        font-size: 0 !important;
        gap: 0 !important;
        flex-shrink: 0 !important;
        white-space: nowrap !important;
        padding: 0 !important;
        margin: 0 !important;
        width: auto !important;
        overflow: visible !important;
    }
    
    #statusIndicator::after {
        content: "" !important;
    }

    #statusIndicator span {
        width: 5px !important;
        height: 5px !important;
        display: block !important;
        flex-shrink: 0 !important;
    }

    /* Persona Badge - Mobilde kompakt görünüm */
    .persona-badge {
        height: 32px !important;
        padding: 0 10px !important;
        font-size: 0.8rem !important;
        gap: 4px !important;
        min-width: auto !important;
    }
    
    .persona-badge span:not(#personaIcon) {
        display: none !important;
    }
    
    #personaIcon {
        font-size: 1rem !important;
    }

    .header-actions {
        -webkit-box-flex: 1 !important;
        -ms-flex: 1 1 auto !important;
        flex: 1 1 auto !important;
        display: -webkit-box !important;
        display: -ms-flexbox !important;
        display: flex !important;
        -ms-flex-wrap: nowrap !important;
        flex-wrap: nowrap !important;
        -webkit-box-pack: end !important;
        -ms-flex-pack: end !important;
        justify-content: flex-end !important;
        gap: 5px !important;
        min-width: 0 !important;
        max-width: 60% !important; /* Increased for better space */
        -webkit-box-align: center !important;
        -ms-flex-align: center !important;
        align-items: center !important;
        -ms-flex-negative: 0 !important;
        flex-shrink: 0 !important;
        white-space: nowrap !important;
        margin-left: auto !important;
        -webkit-box-ordinal-group: 3 !important;
        -ms-flex-order: 2 !important;
        order: 2 !important;
        overflow: visible !important;
    }

    /* ============================================
       TÜM BUTONLAR EŞİT BOYUTTA - 32px STANDART
       Chrome Mobile için güçlendirilmiş kurallar
       ============================================ */
    
    /* Native Theme Select - CHROME FIX */
    .header .header-actions .header-select,
    .header .header-actions select#themeSelect,
    select.header-select,
    #themeSelect.header-select {
        height: 32px !important;
        min-height: 32px !important;
        max-height: 32px !important;
        min-width: 90px !important;
        max-width: 110px !important;
        width: auto !important;
        padding: 0 28px 0 12px !important;
        font-size: 0.75rem !important;
        line-height: 30px !important;
        border-radius: 999px !important;
        -webkit-box-flex: 0 !important;
        -ms-flex: 0 0 auto !important;
        flex: 0 0 auto !important;
        flex-shrink: 0 !important;
        -webkit-box-sizing: border-box !important;
        box-sizing: border-box !important;
        overflow: hidden !important;
        text-overflow: ellipsis !important;
        white-space: nowrap !important;
        display: inline-block !important;
        vertical-align: middle !important;
    }

    /* Header Icon Buttons - CHROME FIX */
    .header .header-actions .header-icon-btn,
    .header-icon-btn {
        width: 32px !important;
        height: 32px !important;
        min-width: 32px !important;
        min-height: 32px !important;
        max-width: 32px !important;
        max-height: 32px !important;
        -webkit-box-flex: 0 !important;
        -ms-flex: 0 0 auto !important;
        flex: 0 0 auto !important;
        font-size: 0.85rem !important;
        flex-shrink: 0 !important;
        padding: 0 !important;
        line-height: 32px !important;
        -webkit-box-sizing: border-box !important;
        box-sizing: border-box !important;
    }
    
    /* Persona Badge - CHROME FIX */
    .header .header-actions .persona-badge,
    .header .persona-badge,
    button.persona-badge,
    #personaBadge.persona-badge {
        height: 32px !important;
        min-height: 32px !important;
        max-height: 32px !important;
        padding: 0 12px !important;
        font-size: 0.85rem !important;
        gap: 5px !important;
        min-width: auto !important;
        line-height: 32px !important;
        -webkit-box-sizing: border-box !important;
        box-sizing: border-box !important;
        display: -webkit-inline-box !important;
        display: -ms-inline-flexbox !important;
        display: inline-flex !important;
        -webkit-box-align: center !important;
        -ms-flex-align: center !important;
        align-items: center !important;
    }

    /* Search Box */
    #searchBox {
        min-width: 0 !important;
        width: 100% !important;
        max-width: 100% !important;
        display: none;
    }

    /* Input Footer - Mobile */
    .input-wrapper {
        padding: 12px 16px !important;
        padding-bottom: max(6px, env(safe-area-inset-bottom)) !important;
        margin-bottom: 0 !important;
    }

    .input-footer {
        padding: 6px 12px !important;
        margin-bottom: 0 !important;
        font-size: 0.65rem !important;
        flex-wrap: nowrap !important;
        gap: 8px !important;
    }

    .footer-info {
        margin: 0 !important;
        padding: 0 !important;
    }

    .char-count {
        font-size: 0.65rem !important;
        flex-shrink: 0 !important;
    }

    .footer-info {
        font-size: 0.65rem !important;
        white-space: nowrap !important;
        overflow: hidden !important;
        text-overflow: ellipsis !important;
        min-width: 0 !important;
        flex: 1 1 auto !important;
    }

    /* Messages */
    .message {
        margin-bottom: 16px;
        gap: 8px;
    }

    .msg-bubble {
        max-width: 95%;
        padding: 12px 14px;
        font-size: 14px;
    }

    .message.user .msg-bubble {
        max-width: 90%;
    }

    .message.bot .msg-bubble {
        max-width: 95%;
    }

    /* Input */
    .input-wrapper {
        padding: 12px !important;
    }

    .input-container {
        padding: 8px !important;
    }

    /* Code Blocks */
    .code-wrapper pre {
        max-height: 300px;
        padding: 14px;
    }

    .code-wrapper code {
        font-size: 12px;
    }

    /* Tables */
    .msg-bubble table {
        font-size: 13px;
    }

    .msg-bubble th,
    .msg-bubble td {
        padding: 8px 10px;
    }
}

/* Dynamic Viewport Height Support */
@supports (height: 100dvh) {
    body {
        height: 100dvh !important;
        min-height: 100dvh !important;
    }
}

/* Yatay taşma olmasın */
html,
body {
    overflow-x: hidden !important;
}